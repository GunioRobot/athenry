<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=UTF-8" />
<title>File: QuickStart</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: QuickStart</span>
  
</div>

      <div id="search">
  <a id="class_list_link" href="#">Namespace List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1 id='quickstart_guide'>Quickstart Guide</h1>

<h2 id='where_to_download'>Where to download?</h2>

<p>The best way to get Athenry is to check out the latest release branch from github.</p>

<pre class="code"><span class='git identifier id'>git</span> <span class='clone identifier id'>clone</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='gregf identifier id'>gregf</span><span class='div op'>/</span><span class='athenry identifier id'>athenry</span><span class='dot token'>.</span><span class='git identifier id'>git</span> <span class='athenry identifier id'>athenry</span>
</pre>

<h2 id='installation'>Installation</h2>

<p>After checking out a fresh copy of Athenry from git or extracting a previously downloaded tarball, Athenry needs to be installed. To install Athenry run install.rb.</p>

<pre class="code"><span class='cd identifier id'>cd</span> <span class='athenry identifier id'>athenry</span>
<span class='dot token'>.</span><span class='div op'>/</span><span class='install identifier id'>install</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>
</pre>

<h2 id='configuration'>Configuration</h2>

<p>Athenry stores all configuration data in a plain text yaml file. During Athenry&#8217;s first installation, config.yml.example is copied to /etc/athenry/config.yml.example. Athenry will not run until this file is reviewed and then renamed to config.yml. The default configuration options provided in /etc/athenry/config.yml are sane defaults that the developers chose. These settings should work for most anyone that would like to give Athenry a try. With that said, it is a good idea to review the config file to see if there are configuration options that may work better for you such as the working directory, your timezone, and even what mirrors to use. As the config.yml in etc are settings the developers consider sane defaults, it is highly recommend that config.yml be copied to $HOME/.config/athenry/config.yml. Athenry actually checks for $HOME/.config/athenry/config.yml for it&#8217;s configuration settings before looking in /etc/athenry/config.yml. All changes to Athenry&#8217;s configuration and settings should be made to t his local configuration file. That way /etc/athenry/config.yml will always be there for reference in case you make a change and Athenry no longer does what is expected. Another detail to keep in mind is every time Athenry is updated, /etc/athenry/config.yml is overwritten with any new configuration options, deprecated options are removed, any changes that the devs may think are better defaults now will be updated. To put it simply, any personal changes made to the config in etc will be overwritten with Athenry&#8217;s updated config. The developers recommend that you update Athenry regularly, then diff the local Athenry config file in $HOME to the Athenry config in etc. Think of this as a &#8220;manual&#8221; etc-update. This is an easy way to see what new features Athenry has, any changes in how Athenry works, and any options or functions that have been deprecated and/or removed.</p>

<p>The following is the list of Athenry&#8217;s currently sane defaults and available settings.</p>

<p><code>config.yml</code></p>

<pre class="code"><span class='workdir identifier id'>workdir</span><span class='colon op'>:</span> <span class='string val'>&quot;/var/tmp/athenry&quot;</span>
<span class='chrootdir identifier id'>chrootdir</span><span class='colon op'>:</span> <span class='string val'>&quot;stage5&quot;</span>
<span class='configs identifier id'>configs</span><span class='colon op'>:</span> <span class='dstring node'>&quot;#{ENV['home']}/.config/athenry&quot;</span>
<span class='stageurl identifier id'>stageurl</span><span class='colon op'>:</span> <span class='string val'>&quot;http://mirrors.kernel.org/gentoo/releases/amd64/autobuilds/current-stage3/stage3-amd64-20091029.tar.bz2&quot;</span>
<span class='snapshoturl identifier id'>snapshoturl</span><span class='colon op'>:</span> <span class='string val'>&quot;http://gentoo.osuosl.org/snapshots/portage-latest.tar.bz2&quot;</span>
<span class='verbose identifier id'>verbose</span><span class='colon op'>:</span> <span class='string val'>&quot;true&quot;</span>
<span class='logfile identifier id'>logfile</span><span class='colon op'>:</span> <span class='string val'>&quot;/var/log/athenry.log&quot;</span>
<span class='overlays identifier id'>overlays</span><span class='colon op'>:</span> <span class='lbrack token'>[</span><span class='sunrise identifier id'>sunrise</span> <span class='mpd identifier id'>mpd</span><span class='rbrack token'>]</span>
<span class='pkgmanager identifier id'>pkgmanager</span><span class='colon op'>:</span> <span class='string val'>&quot;paludis&quot;</span> <span class='comment val'>#or emerge</span>
<span class='sets identifier id'>sets</span><span class='colon op'>:</span> <span class='lbrack token'>[</span><span class='stage4 identifier id'>stage4</span><span class='rbrack token'>]</span>
<span class='timezone identifier id'>timezone</span><span class='colon op'>:</span> <span class='string val'>&quot;EST5EDT&quot;</span>
</pre>

<p><strong>workdir</strong>: This is the root directory where created stages, logs, the state file, and downloaded files will be stored.</p>

<p><strong>chrootdir</strong>: Relative path to the work dir, where the chroot will be built.</p>

<p><strong>configs</strong>: This should point to the directory where config.yml is kept. These files are used for building the chroot. Athenry will blindly copy files to chrootdir/etc recursivley.</p>

<p><strong>stageurl</strong>: This is the url where Athenry will grab the stage seed from.</p>

<p><strong>snapshoturl</strong>: This is the url where Athenry will grab the portage snapshot from.</p>

<p><strong>verbose</strong>: Does just what it implies, toggles verbosity. Even with this set to false you can tail the log file to see the progress.</p>

<p><strong>logfile</strong>: If a filename is set it logs to logdir/logfile, if blank logging is disabled.</p>

<p><strong>overlays</strong>: This takes an array of overlays you would like to use. Currently does not build the overlay configuration for you, You are expected to have required configurations copied in with the configs setting. This will use playman/layman in the future.</p>

<p><strong>pkgmanager</strong>: This can be set to either paludis or emerge. pkgcore could be added with relative ease if requested and someone was interested enough to do testing. The only reason pkgcore is not supported by default is no Athenry devs currently use it.</p>

<p><strong>sets</strong>: An array listing set files to install. This is how packages to be installed into the chroot is handled.</p>

<p><strong>timezone</strong>: Timezone to be set for the chroot. Usage</p>

<h2 id='usage'>Usage</h2>

<pre class="code"><span class='athenry identifier id'>athenry</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='help identifier id'>help</span>
<span class='NAME constant id'>NAME</span><span class='colon op'>:</span>

<span class='Athenry constant id'>Athenry</span>

<span class='DESCRIPTION constant id'>DESCRIPTION</span><span class='colon op'>:</span>

<span class='Creates constant id'>Creates</span> <span class='a identifier id'>a</span> <span class='Gentoo constant id'>Gentoo</span> <span class='chroot identifier id'>chroot</span> <span class='and and kw'>and</span> <span class='automates identifier id'>automates</span> <span class='stage identifier id'>stage</span> <span class='building identifier id'>building</span>

<span class='SUB constant id'>SUB</span><span class='minus op'>-</span><span class='COMMANDS constant id'>COMMANDS</span><span class='colon op'>:</span>

<span class='help identifier id'>help</span>                 <span class='Display constant id'>Display</span> <span class='help identifier id'>help</span> <span class='documentation identifier id'>documentation</span> <span class='for for kw'>for</span> <span class='lt op'>&lt;</span><span class='sub_command identifier id'>sub_command</span><span class='gt op'>&gt;</span>
<span class='build identifier id'>build</span>                <span class='Starts constant id'>Starts</span> <span class='the identifier id'>the</span> <span class='build identifier id'>build</span> <span class='process identifier id'>process</span>
<span class='resume identifier id'>resume</span>               <span class='Resume constant id'>Resume</span> <span class='from identifier id'>from</span> <span class='last identifier id'>last</span> <span class='successful identifier id'>successful</span> <span class='state identifier id'>state</span>
<span class='shell identifier id'>shell</span>                <span class='Run constant id'>Run</span> <span class='Athenry constant id'>Athenry</span> <span class='commands identifier id'>commands</span> <span class='directly identifier id'>directly</span> <span class='through identifier id'>through</span> <span class='an identifier id'>an</span> <span class='irb identifier id'>irb</span> <span class='like identifier id'>like</span> <span class='shell identifier id'>shell</span>
<span class='setup identifier id'>setup</span>                <span class='Fetches constant id'>Fetches</span> <span class='files identifier id'>files</span> <span class='and and kw'>and</span> <span class='creates identifier id'>creates</span> <span class='necessary identifier id'>necessary</span> <span class='directories identifier id'>directories</span>
<span class='clean identifier id'>clean</span>                <span class='Cleans constant id'>Cleans</span> <span class='up identifier id'>up</span> <span class='Athenry constant id'>Athenry</span><span class='string val'>'s mess

GLOBAL OPTIONS:

-h, --help
    Display help documentation

-v, --version
    Display version information

-t, --trace
    Display a backtrace when an error occurs
</span></pre>

<p>Currently the workflow would be to run commands in the following order.</p>

<pre class="code"><span class='athenry identifier id'>athenry</span> <span class='setup identifier id'>setup</span>
<span class='athenry identifier id'>athenry</span> <span class='build identifier id'>build</span>
</pre>

<p>If there is a failure or have the need to stop and come back later run</p>

<pre class="code"><span class='athenry identifier id'>athenry</span> <span class='resume identifier id'>resume</span>
</pre>

<p>This should pick up where Athenry left off. Currently there is a small limitation on resume support. If Athenry is stopped at the last step of setup Athenry will not know to start running build. This will be resolved in a future release.</p>

<pre class="code"><span class='athenry identifier id'>athenry</span> <span class='clean identifier id'>clean</span>
</pre>

<p>Currently only performs an unmount of /dev, /proc, and /sys. It is fairly useless in it&#8217;s current state.</p>

<pre class="code"><span class='athenry identifier id'>athenry</span> <span class='shell identifier id'>shell</span>
</pre>

<p>Is one of athenry&#8217;s most powerful features. This will allow you to run each step of building a stage from an irb like shell. This makes going back and copying newer configs or debugging an issue painless.</p>

<pre class="code"><span class='athenry identifier id'>athenry</span> <span class='shell identifier id'>shell</span>

<span class='Type constant id'>Type</span> <span class='help identifier id'>help</span> <span class='for for kw'>for</span> <span class='a identifier id'>a</span> <span class='list identifier id'>list</span> <span class='of identifier id'>of</span> <span class='commands identifier id'>commands</span><span class='colon op'>:</span>
<span class='rshft op'>&gt;&gt;</span>
<span class='help identifier id'>help</span>
<span class='Athenry constant id'>Athenry</span> <span class='Shell constant id'>Shell</span> <span class='Help constant id'>Help</span><span class='colon op'>:</span>
<span class='eqq op'>===</span><span class='eqq op'>===</span><span class='eqq op'>===</span><span class='eqq op'>===</span><span class='eqq op'>===</span><span class='eqq op'>===</span><span class='assign token'>=</span>
<span class='help identifier id'>help</span> <span class='minus op'>-</span> <span class='displays identifier id'>displays</span> <span class='this identifier id'>this</span>
<span class='quit identifier id'>quit</span> <span class='minus op'>-</span> <span class='quits identifier id'>quits</span>

<span class='Setup constant id'>Setup</span><span class='colon op'>:</span>
<span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span>
<span class='fetch identifier id'>fetch</span>
<span class='extract identifier id'>extract</span>
<span class='snapshot identifier id'>snapshot</span>
<span class='generate_bashscripts identifier id'>generate_bashscripts</span>
<span class='copy_scripts identifier id'>copy_scripts</span>
<span class='copy_configs identifier id'>copy_configs</span>

<span class='Build constant id'>Build</span><span class='colon op'>:</span>
<span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span>
<span class='mount identifier id'>mount</span>
<span class='chroot identifier id'>chroot</span>

<span class='Resume constant id'>Resume</span><span class='colon op'>:</span>
<span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span>
<span class='continue identifier id'>continue</span>

<span class='Clean constant id'>Clean</span><span class='colon op'>:</span>
<span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span>
<span class='umount identifier id'>umount</span>
<span class='rshft op'>&gt;&gt;</span>
</pre>

<h2 id='note'>Note</h2>

<p>Please refer to <a href="file.about.html" title="about">about</a> for more information on Athenry. It is still in the very early stages of development and should not be relied upon for production use.</p></div></div>
    
    <div id="footer">
  Generated on Tue Nov 17 13:42:12 2009 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.4.0 (ruby-1.8.7).
</div>

  </body>
</html>